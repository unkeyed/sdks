# V2KeysCreateKeyRequestBody


## Fields

| Field                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `api_id`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | *str*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | The API namespace this key belongs to.<br/>Keys from different APIs cannot access each other.<br/>                                                                                                                                                                                                                                                                                                                                                                                              | api_1234abcd                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `prefix`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | *Optional[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Adds a visual identifier to the beginning of the generated key for easier recognition in logs and dashboards.<br/>The prefix becomes part of the actual key string (e.g., `prod_xxxxxxxxx`).<br/>Avoid using sensitive information in prefixes as they may appear in logs and error messages.<br/>                                                                                                                                                                                              | prod                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `name`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *Optional[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Sets a human-readable identifier for internal organization and dashboard display.<br/>Never exposed to end users, only visible in management interfaces and API responses.<br/>Avoid generic names like "API Key" when managing multiple keys for the same user or service.<br/>                                                                                                                                                                                                                | Payment Service Production Key                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `byte_length`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *Optional[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Controls the cryptographic strength of the generated key in bytes.<br/>Higher values increase security but result in longer keys that may be more annoying to handle.<br/>The default 16 bytes provides 2^128 possible combinations, sufficient for most applications.<br/>Consider 32 bytes for highly sensitive APIs, but avoid values above 64 bytes unless specifically required.<br/>                                                                                                      | 24                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `external_id`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *Optional[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Links this key to a user or entity in your system using your own identifier.<br/>Returned during verification to identify the key owner without additional database lookups.<br/>Essential for user-specific analytics, billing, and multi-tenant key management.<br/>Use your primary user ID, organization ID, or tenant ID for best results.<br/>Accepts letters, numbers, underscores, dots, and hyphens for flexible identifier formats.<br/>                                              | user_1234abcd                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `meta`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Dict[str, *Any*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Stores arbitrary JSON metadata returned during key verification for contextual information.<br/>Eliminates additional database lookups during verification, improving performance for stateless services.<br/>Avoid storing sensitive data here as it's returned in verification responses.<br/>Large metadata objects increase verification latency and should stay under 10KB total size.<br/>                                                                                                | {<br/>"plan": "enterprise",<br/>"featureFlags": {<br/>"betaAccess": true,<br/>"concurrentConnections": 10<br/>},<br/>"customerName": "Acme Corp",<br/>"billing": {<br/>"tier": "premium",<br/>"renewal": "2024-12-31"<br/>}<br/>}                                                                                                                                                                                                                                                               |
| `roles`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | List[*str*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Assigns existing roles to this key for permission management through role-based access control.<br/>Roles must already exist in your workspace before assignment.<br/>During verification, all permissions from assigned roles are checked against requested permissions.<br/>Roles provide a convenient way to group permissions and apply consistent access patterns across multiple keys.<br/>                                                                                               | [<br/>"api_admin",<br/>"billing_reader"<br/>]                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `permissions`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | List[*str*]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Grants specific permissions directly to this key without requiring role membership.<br/>Wildcard permissions like `documents.*` grant access to all sub-permissions including `documents.read` and `documents.write`.<br/>Direct permissions supplement any permissions inherited from assigned roles.<br/>                                                                                                                                                                                     | [<br/>"documents.read",<br/>"documents.write",<br/>"settings.view"<br/>]                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `expires`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *Optional[int]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Sets when this key automatically expires as a Unix timestamp in milliseconds.<br/>Verification fails with code=EXPIRED immediately after this time passes.<br/>Omitting this field creates a permanent key that never expires.<br/><br/>Avoid setting timestamps in the past as they immediately invalidate the key.<br/>Keys expire based on server time, not client time, which prevents timezone-related issues.<br/>Essential for trial periods, temporary access, and security compliance requiring key rotation.<br/> | 1704067200000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `credits`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | [Optional[models.KeyCreditsData]](../models/keycreditsdata.md)                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Credit configuration and remaining balance for this key.                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `ratelimits`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | List[[models.RatelimitRequest](../models/ratelimitrequest.md)]                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Defines time-based rate limits that protect against abuse by controlling request frequency.<br/>Unlike credits which track total usage, rate limits reset automatically after each window expires.<br/>Multiple rate limits can control different operation types with separate thresholds and windows.<br/>Essential for preventing API abuse while maintaining good performance for legitimate usage.<br/>                                                                                    | [<br/>{<br/>"name": "requests",<br/>"limit": 100,<br/>"duration": 60000,<br/>"autoApply": true<br/>},<br/>{<br/>"name": "heavy_operations",<br/>"limit": 10,<br/>"duration": 3600000,<br/>"autoApply": false<br/>}<br/>]                                                                                                                                                                                                                                                                        |
| `enabled`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *Optional[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Controls whether the key is active immediately upon creation.<br/>When set to `false`, the key exists but all verification attempts fail with `code=DISABLED`.<br/>Useful for pre-creating keys that will be activated later or for keys requiring manual approval.<br/>Most keys should be created with `enabled=true` for immediate use.<br/>                                                                                                                                                 | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `recoverable`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *Optional[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Controls whether the plaintext key is stored in an encrypted vault for later retrieval.<br/>When true, allows recovering the actual key value using keys.getKey with decrypt=true.<br/>When false, the key value cannot be retrieved after creation for maximum security.<br/>Only enable for development keys or when key recovery is absolutely necessary.<br/>                                                                                                                               | false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |