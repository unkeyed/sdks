# V2KeysUpdateKeyRequestBody

## Example Usage

```typescript
import { V2KeysUpdateKeyRequestBody } from "@unkey/api/models/components";

let value: V2KeysUpdateKeyRequestBody = {
  keyId: "key_2cGKbMxRyIzhCxo1Idjz8q",
  name: "Payment Service Production Key",
  externalId: "user_912a841d",
  meta: {
    "plan": "enterprise",
    "limits": {
      "storage": "500GB",
      "compute": "1000 minutes/month",
    },
    "features": [
      "analytics",
      "exports",
      "webhooks",
    ],
    "hasAcceptedTerms": true,
    "billing": {
      "cycle": "monthly",
      "next_billing": "2024-01-15",
    },
    "preferences": {
      "timezone": "UTC",
      "notifications": true,
    },
    "lastBillingDate": "2023-10-15",
  },
  expires: 1704067200000,
  credits: {
    remaining: 1000,
    refill: {
      interval: "daily",
      amount: 1000,
      refillDay: 15,
    },
  },
  ratelimits: [
    {
      name: "api",
      limit: 274654,
      duration: 143926,
    },
  ],
  enabled: true,
  roles: [
    "api_admin",
    "billing_reader",
  ],
  permissions: [
    "documents.read",
    "documents.write",
    "settings.view",
  ],
};
```

## Fields

| Field                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `keyId`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Specifies which key to update using the database identifier returned from `createKey`.<br/>Do not confuse this with the actual API key string that users include in requests.<br/>                                                                                                                                                                                                                                                                                                                              | key_2cGKbMxRyIzhCxo1Idjz8q                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `name`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Sets a human-readable name for internal organization and identification.<br/>Omitting this field leaves the current name unchanged, while setting null removes it entirely.<br/>Avoid generic names like "API Key" when managing multiple keys per user or service.<br/>                                                                                                                                                                                                                                        | Payment Service Production Key                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `externalId`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Links this key to a user or entity in your system for ownership tracking during verification.<br/>Omitting this field preserves the current association, while setting null disconnects the key from any identity.<br/>Essential for user-specific analytics, billing, and key management across multiple users.<br/>Supports letters, numbers, underscores, dots, and hyphens for flexible identifier formats.<br/>                                                                                            | user_912a841d                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `meta`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Record<string, *any*>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Stores arbitrary JSON metadata returned during key verification.<br/>Omitting this field preserves existing metadata, while setting null removes all metadata entirely.<br/>Avoid storing sensitive data here as it's returned in verification responses.<br/>Large metadata objects increase verification latency and should stay under 10KB total size.<br/>                                                                                                                                                  | {<br/>"plan": "enterprise",<br/>"limits": {<br/>"storage": "500GB",<br/>"compute": "1000 minutes/month"<br/>},<br/>"features": [<br/>"analytics",<br/>"exports",<br/>"webhooks"<br/>],<br/>"hasAcceptedTerms": true,<br/>"billing": {<br/>"cycle": "monthly",<br/>"next_billing": "2024-01-15"<br/>},<br/>"preferences": {<br/>"timezone": "UTC",<br/>"notifications": true<br/>},<br/>"lastBillingDate": "2023-10-15"<br/>}                                                                                    |
| `expires`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *number*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Sets when this key automatically expires as a Unix timestamp in milliseconds.<br/>Verification fails with code=EXPIRED immediately after this time passes.<br/>Omitting this field preserves the current expiration, while setting null makes the key permanent.<br/><br/>Avoid setting timestamps in the past as they immediately invalidate the key.<br/>Keys expire based on server time, not client time, which prevents timezone-related issues.<br/>Active sessions continue until their next verification attempt after expiry.<br/> | 1704067200000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `credits`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | [components.UpdateKeyCreditsData](../../models/components/updatekeycreditsdata.md)                                                                                                                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Credit configuration and remaining balance for this key.                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `ratelimits`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | [components.RatelimitRequest](../../models/components/ratelimitrequest.md)[]                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Defines time-based rate limits that protect against abuse by controlling request frequency.<br/>Omitting this field preserves existing rate limits, while setting null removes all rate limits.<br/>Unlike credits which track total usage, rate limits reset automatically after each window expires.<br/>Multiple rate limits can control different operation types with separate thresholds and windows.<br/>                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `enabled`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *boolean*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Controls whether the key is currently active for verification requests.<br/>When set to `false`, all verification attempts fail with `code=DISABLED` regardless of other settings.<br/>Omitting this field preserves the current enabled status.<br/>Useful for temporarily suspending access during billing issues, security incidents, or maintenance windows without losing key configuration.<br/>                                                                                                          | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `roles`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | *string*[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | [<br/>"api_admin",<br/>"billing_reader"<br/>]                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `permissions`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *string*[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | [<br/>"documents.read",<br/>"documents.write",<br/>"settings.view"<br/>]                                                                                                                                                                                                                                                                                                                                                                                                                                        |