# V2KeysMigrateKeyData

## Example Usage

```typescript
import { V2KeysMigrateKeyData } from "@unkey/api/models/components";

let value: V2KeysMigrateKeyData = {
  hash: "your_already_hashed_key",
  name: "Payment Service Production Key",
  externalId: "user_1234abcd",
  meta: {
    "plan": "enterprise",
    "featureFlags": {
      "betaAccess": true,
      "concurrentConnections": 10,
    },
    "customerName": "Acme Corp",
    "billing": {
      "tier": "premium",
      "renewal": "2024-12-31",
    },
  },
  roles: [
    "api_admin",
    "billing_reader",
  ],
  permissions: [
    "documents.read",
    "documents.write",
    "settings.view",
  ],
  credits: {
    remaining: 1000,
    refill: {
      interval: "daily",
      amount: 1000,
      refillDay: 15,
    },
  },
  ratelimits: [
    {
      name: "requests",
      limit: 100,
      duration: 60000,
      autoApply: true,
    },
    {
      name: "heavy_operations",
      limit: 10,
      duration: 3600000,
    },
  ],
};
```

## Fields

| Field                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `hash`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | The current hash of the key on your side                                                                                                                                                                                                                                                                                                                                                                                                                                                        | your_already_hashed_key                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `name`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Sets a human-readable identifier for internal organization and dashboard display.<br/>Never exposed to end users, only visible in management interfaces and API responses.<br/>Avoid generic names like "API Key" when managing multiple keys for the same user or service.<br/>                                                                                                                                                                                                                | Payment Service Production Key                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `externalId`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Links this key to a user or entity in your system using your own identifier.<br/>Returned during verification to identify the key owner without additional database lookups.<br/>Essential for user-specific analytics, billing, and multi-tenant key management.<br/>Use your primary user ID, organization ID, or tenant ID for best results.<br/>Accepts letters, numbers, underscores, dots, and hyphens for flexible identifier formats.<br/>                                              | user_1234abcd                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `meta`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Record<string, *any*>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Stores arbitrary JSON metadata returned during key verification for contextual information.<br/>Eliminates additional database lookups during verification, improving performance for stateless services.<br/>Avoid storing sensitive data here as it's returned in verification responses.<br/>Large metadata objects increase verification latency and should stay under 10KB total size.<br/>                                                                                                | {<br/>"plan": "enterprise",<br/>"featureFlags": {<br/>"betaAccess": true,<br/>"concurrentConnections": 10<br/>},<br/>"customerName": "Acme Corp",<br/>"billing": {<br/>"tier": "premium",<br/>"renewal": "2024-12-31"<br/>}<br/>}                                                                                                                                                                                                                                                               |
| `roles`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | *string*[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Assigns existing roles to this key for permission management through role-based access control.<br/>Roles must already exist in your workspace before assignment.<br/>During verification, all permissions from assigned roles are checked against requested permissions.<br/>Roles provide a convenient way to group permissions and apply consistent access patterns across multiple keys.<br/>                                                                                               | [<br/>"api_admin",<br/>"billing_reader"<br/>]                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `permissions`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *string*[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Grants specific permissions directly to this key without requiring role membership.<br/>Wildcard permissions like `documents.*` grant access to all sub-permissions including `documents.read` and `documents.write`.<br/>Direct permissions supplement any permissions inherited from assigned roles.<br/>                                                                                                                                                                                     | [<br/>"documents.read",<br/>"documents.write",<br/>"settings.view"<br/>]                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `expires`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *number*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Sets when this key automatically expires as a Unix timestamp in milliseconds.<br/>Verification fails with code=EXPIRED immediately after this time passes.<br/>Omitting this field creates a permanent key that never expires.<br/><br/>Avoid setting timestamps in the past as they immediately invalidate the key.<br/>Keys expire based on server time, not client time, which prevents timezone-related issues.<br/>Essential for trial periods, temporary access, and security compliance requiring key rotation.<br/> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `enabled`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *boolean*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Controls whether the key is active immediately upon creation.<br/>When set to `false`, the key exists but all verification attempts fail with `code=DISABLED`.<br/>Useful for pre-creating keys that will be activated later or for keys requiring manual approval.<br/>Most keys should be created with `enabled=true` for immediate use.<br/>                                                                                                                                                 | true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `credits`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | [components.KeyCreditsData](../../models/components/keycreditsdata.md)                                                                                                                                                                                                                                                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Credit configuration and remaining balance for this key.                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `ratelimits`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | [components.RatelimitRequest](../../models/components/ratelimitrequest.md)[]                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Defines time-based rate limits that protect against abuse by controlling request frequency.<br/>Unlike credits which track total usage, rate limits reset automatically after each window expires.<br/>Multiple rate limits can control different operation types with separate thresholds and windows.<br/>Essential for preventing API abuse while maintaining good performance for legitimate usage.<br/>                                                                                    | [<br/>{<br/>"name": "requests",<br/>"limit": 100,<br/>"duration": 60000,<br/>"autoApply": true<br/>},<br/>{<br/>"name": "heavy_operations",<br/>"limit": 10,<br/>"duration": 3600000,<br/>"autoApply": false<br/>}<br/>]                                                                                                                                                                                                                                                                        |