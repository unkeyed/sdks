# V2KeysVerifyKeyResponseData

## Example Usage

```typescript
import { V2KeysVerifyKeyResponseData } from "@unkey/api/models/components";

let value: V2KeysVerifyKeyResponseData = {
  valid: true,
  code: "INSUFFICIENT_PERMISSIONS",
  identity: {
    id: "<id>",
    externalId: "<id>",
    ratelimits: [
      {
        id: "rl_1234567890abcdef",
        name: "api_requests",
        limit: 1000,
        duration: 3600000,
        autoApply: true,
      },
    ],
  },
  ratelimits: [
    {
      exceeded: false,
      id: "rl_1234567890abcdef",
      name: "api_requests",
      limit: 1000,
      duration: 3600000,
      reset: 3600000,
      remaining: 999,
      autoApply: true,
    },
  ],
};
```

## Fields

| Field                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `valid`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *boolean*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The primary verification result. If true, the key is valid<br/>and can be used. If false, check the 'code' field to understand why verification<br/>failed. Your application should always check this field first before proceeding.<br/>                                                                                                                                                                                                                                                                                                                                    |
| `code`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | [components.Code](../../models/components/code.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | A machine-readable code indicating the verification status<br/>or failure reason. Values: `VALID` (key is valid and passed all checks), `NOT_FOUND` (key doesn't<br/>exist or belongs to wrong API), `FORBIDDEN` (key lacks required permissions), `INSUFFICIENT_PERMISSIONS`<br/>(key lacks specific required permissions for this request), `INSUFFICIENT_CREDITS`<br/>(key has no remaining credits), `USAGE_EXCEEDED` (key exceeded usage limits), `RATE_LIMITED` (key exceeded rate limits), `DISABLED` (key was explicitly disabled),<br/>`EXPIRED` (key has passed its expiration date).<br/> |
| `keyId`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The unique identifier of the verified key in Unkey's system.<br/>Use this ID for operations like updating or revoking the key. This field<br/>is returned for both valid and invalid keys (except when `code=NOT_FOUND`).<br/>                                                                                                                                                                                                                                                                                                                                               |
| `name`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The human-readable name assigned to this key during creation.<br/>This is useful for displaying in logs or admin interfaces to identify<br/>the key's purpose.<br/>                                                                                                                                                                                                                                                                                                                                                                                                          |
| `meta`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Record<string, *any*>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Custom metadata associated with the key. This can include any<br/>JSON-serializable data you stored with the key during creation or updates,<br/>such as plan information, feature flags, or user details. Use this to<br/>avoid additional database lookups for contextual information needed during<br/>API calls.<br/>                                                                                                                                                                                                                                                    |
| `expires`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | *number*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Unix timestamp (in milliseconds) when the key will expire.<br/>If omitted, the key has no expiration. You can use this to<br/>warn users about upcoming expirations or to understand the validity period.<br/>                                                                                                                                                                                                                                                                                                                                                               |
| `credits`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | *number*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | The number of requests/credits remaining for this key. If omitted,<br/>the key has unlimited usage. This value decreases with<br/>each verification (based on the 'cost' parameter) unless explicit credit<br/>refills are configured.<br/>                                                                                                                                                                                                                                                                                                                                  |
| `enabled`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | *boolean*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Indicates if the key is currently enabled. Disabled keys will<br/>always fail verification with `code=DISABLED`. This is useful for implementing<br/>temporary suspensions without deleting the key.<br/>                                                                                                                                                                                                                                                                                                                                                                    |
| `permissions`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | *string*[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | A list of all permission names assigned to this key, either<br/>directly or through roles. These permissions determine what actions the<br/>key can perform. Only returned when permissions were checked during verification<br/>or when the key fails with `code=FORBIDDEN`.<br/>                                                                                                                                                                                                                                                                                           |
| `roles`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *string*[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | A list of all role names assigned to this key. Roles are collections<br/>of permissions that grant access to specific functionality. Only returned<br/>when permissions were checked during verification.<br/>                                                                                                                                                                                                                                                                                                                                                               |
| `identity`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | [components.Identity](../../models/components/identity.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `ratelimits`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | [components.VerifyKeyRatelimitData](../../models/components/verifykeyratelimitdata.md)[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |